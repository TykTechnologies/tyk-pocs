services:
  tyk-bootstrap:
    build:
      dockerfile: Dockerfile
    container_name: tyk-bootstrap
    networks:
      - tyk
    environment:
      - TYK_LICENSE_KEY=${TYK_LICENSE_KEY}
      - DASHBOARD_URL=http://tyk-dashboard:3000
      - GATEWAY_URL=http://tyk-gateway:8080
      - PORTAL_URL=http://tyk-portal:3001
      - ADMIN_SECRET=admin-secret
    volumes:
      - bootstrap-output:/bootstrap-output
    profiles:
      - tools
networks:
  tyk:
    driver: bridge
    name: tyk
    external: true
volumes:
  bootstrap-output:
    name: bootstrap-output
