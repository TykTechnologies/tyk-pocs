### =============================================================================
### TYK ENTERPRISE DEVELOPER PORTAL ENVIRONMENT CONFIGURATION
### =============================================================================
### Default values are set for DEVELOPMENT environments. Comments describe PRODUCTION or PERFORMANCE tuning.
### =============================================================================

### -----------------------------------------------------------------------------
### GENERAL SETTINGS
### -----------------------------------------------------------------------------
PORTAL_LICENSEKEY=${TYK_PORTAL_LICENSE} # Developer Portal license key (required)
PORTAL_HOSTPORT=3001
PORTAL_REFRESHINTERVAL=1 # PROD: Increase to reduce API refresh frequency
PORTAL_THEMING_THEME=default
PORTAL_THEMING_DISABLE_UPLOAD=false # PROD: Set to true to prevent theme uploads via UI
PORTAL_TIB_ENABLED=true # Enable Tyk Identity Broker for SSO integration
# PORTAL_API_SECRET= # PROD: Set a strong secret for Portal API authentication, USE secret manager
# PORTAL_TLS_ENABLE=true # PROD: Set to true to enable TLS
# PORTAL_TLS_CERTIFICATES= # JSON array of certs e.g. '[{"Name": "tyk.io", "CertFile": "portal.crt","KeyFile": "portal.key"}]'

### -----------------------------------------------------------------------------
### LOGGING
### -----------------------------------------------------------------------------
PORTAL_LOG_FORMAT=dev # PROD: Set to "prod" for production-optimized logging
PORTAL_LOG_LEVEL=info # PROD: Set to "error" to reduce log volume
PORTAL_AUDIT_LOG_ENABLE=true # PROD: set to true to enable audit trail logging
PORTAL_AUDIT_LOG_PATH=/tmp # Path for audit log files (required if AUDIT_LOG_ENABLE=true)
# PORTAL_DCR_LOG_ENABLED=false # Logging Raw responses from the OAuth2.0 Idp for the DCR flow. Enable only for debugging

### -----------------------------------------------------------------------------
### DATABASE
### -----------------------------------------------------------------------------
PORTAL_DATABASE_DIALECT=postgres
PORTAL_DATABASE_CONNECTIONSTRING=host=tyk-postgres port=5432 dbname=portal user=tykuser password=tykSecurePass123 sslmode=disable # PROD: Use Secrets Manager
PORTAL_DATABASE_MAXRETRIES=5 # Number of connection retries
# PORTAL_DATABASE_MAX_IDLE_CONNECTIONS= # Max idle DB connections default 2, PROD/PERFORMANCE: SET to a higher value when demand increases

### -----------------------------------------------------------------------------
### STORAGE - Assets storage for portal themes, images, etc.
### -----------------------------------------------------------------------------
PORTAL_STORAGE=db # option db, s3, fs. PROD: use "s3" for scalable asset storage

## S3 Storage Configuration (when PORTAL_STORAGE=s3)
# PORTAL_S3_AWS_ACCESS_KEY_ID= # AWS access key (or use IAM role)
# PORTAL_S3_AWS_SECRET_ACCESS_KEY= # AWS secret key (or use IAM role)
# PORTAL_S3_REGION= # AWS region e.g. eu-west-1
# PORTAL_S3_ENDPOINT= # S3 endpoint e.g. https://s3.eu-west-1.amazonaws.com
# PORTAL_S3_BUCKET= # S3 bucket name
# PORTAL_S3_ACL=private # S3 ACL: private, public-read, etc.
# PORTAL_S3_PRESIGN_URLS=true # Use presigned URLs for private assets

## Filesystem Storage Configuration (when PORTAL_STORAGE=fs)
# PORTAL_FS_BASEPATH=/path/to/assets # Base path for filesystem storage
