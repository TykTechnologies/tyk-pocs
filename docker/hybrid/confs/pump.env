### =============================================================================
### TYK PUMP ENVIRONMENT CONFIGURATION
### =============================================================================
### Default values are set for DEVELOPMENT environments. Comments describe PRODUCTION or PERFORMANCE tuning.
### =============================================================================

### -----------------------------------------------------------------------------
### GENERAL SETTINGS
### -----------------------------------------------------------------------------
TYK_PMP_LOGLEVEL=info # PROD: Set to "error" to reduce log volume
TYK_PMP_PURGEDELAY=2 # Seconds between purge cycles. PROD: Can be set to 1 for high traffic
TYK_PMP_DONTPURGEUPTIMEDATA=false
# TYK_PMP_LOGFORMAT=text # Options: text, json
# TYK_PMP_HEALTHCHECKENDPOINTPORT= # PROD: set Port for health check endpoint
# TYK_PMP_HEALTHCHECKENDPOINTNAME=hello # PROD: set Health check endpoint path

### -----------------------------------------------------------------------------
### ANALYTICS STORAGE (Redis - Source). Pump reads analytics data from Redis (written by Gateway(s))
### -----------------------------------------------------------------------------
TYK_PMP_ANALYTICSSTORAGETYPE=redis
TYK_PMP_ANALYTICSSTORAGECONFIG_ADDRS=tyk-redis:6379 # PROD: Use Redis Cluster e.g. ["server1:6379","server2:6380","server3:6381"]
TYK_PMP_ANALYTICSSTORAGECONFIG_USERNAME=
TYK_PMP_ANALYTICSSTORAGECONFIG_PASSWORD=
TYK_PMP_ANALYTICSSTORAGECONFIG_DATABASE=0
TYK_PMP_ANALYTICSSTORAGECONFIG_ENABLECLUSTER=false # PROD/PERFORMANCE: Set to true for Redis Cluster
# TYK_PMP_ANALYTICSSTORAGECONFIG_USESSL=true # PROD: Set to true for secure Redis connections
# TYK_PMP_ANALYTICSSTORAGECONFIG_SSLINSECURESKIPVERIFY=false # PROD: Keep false to validate Redis SSL certificates
# TYK_PMP_ANALYTICSSTORAGECONFIG_MAXIDLE=5000 # PROD/PERFORMANCE: SET high Max idle connections
# TYK_PMP_ANALYTICSSTORAGECONFIG_MAXACTIVE=10000 # PROD/PERFORMANCE: SET high Max active connections

### -----------------------------------------------------------------------------
### HYBRID PUMP - Forward Analytics to Control Plane (MDCB)
### -----------------------------------------------------------------------------
TYK_PMP_PUMPS_HYBRID_TYPE=hybrid
TYK_PMP_PUMPS_HYBRID_META_CONNECTIONSTRING=your-mdcb.cloud-ara.tyk.io:443 # REQUIRED: Replace with your MDCB endpoint from Tyk Cloud Console
TYK_PMP_PUMPS_HYBRID_META_RPCKEY= # REQUIRED: Your Organization ID from Tyk Cloud Console
TYK_PMP_PUMPS_HYBRID_META_APIKEY= # REQUIRED: Your Dashboard User API Key from Tyk Cloud Console
TYK_PMP_PUMPS_HYBRID_META_GROUPID= # REQUIRED: Gateway Group ID to identify this cluster
TYK_PMP_PUMPS_HYBRID_META_USESSL=true
TYK_PMP_PUMPS_HYBRID_META_SSLINSECURESKIPVERIFY=true # PROD: Set to false if using proper SSL certificates
TYK_PMP_PUMPS_HYBRID_META_AGGREGATED=false # When true: aggregated analytics only (no individual request logs in Dashboard Logs Browser)
TYK_PMP_PUMPS_HYBRID_META_CALLTIMEOUT=10 # RPC call timeout in seconds
TYK_PMP_PUMPS_HYBRID_META_RPCPOOLSIZE=5 # RPC connection pool size